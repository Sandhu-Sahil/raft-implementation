
<!doctype html>
<html lang='en'>
  <head>
    <title>TestDisconnectAllThenRestore -- PASS</title>
  </head>
  <style>
  table {
    font-family: "Courier New";
    border-collapse: collapse;
  }

  table, th, td {
    padding: 8px;
    border: 1px solid #cccccc;
  }

  td.testcell {
    background-color: #ffffff;
  }

  td.Follower {
    background-color: #ffffff;
  }

  td.Candidate {
    background-color: #e2e2a3;
  }

  td.Leader {
    background-color: #e6fff5;
  }

  td.Dead {
    background-color: #dddddd;
  }

  h1 {
    text-align: center;
  }
  </style>
<body>
  <h1>TestDisconnectAllThenRestore -- PASS</h1>
  <p></p>
  <table>
    <tr>
      
      <th>Time</th>
      
      <th>TEST</th>
      
      <th>0</th>
      
      <th>1</th>
      
      <th>2</th>
      
    </tr>
    
    <tr>
      <td>09:17:35.281816</td>  <td class="testcell"></td>  <td class="Follower"></td>  <td class="Follower">in election timer state=Dead, bailing out</td>  <td class="Follower"></td>
    </tr>
    
    <tr>
      <td>09:17:35.282065</td>  <td class="testcell"></td>  <td class="Follower">listening at [::]:34115</td>  <td class="Follower"></td>  <td class="Follower"></td>
    </tr>
    
    <tr>
      <td>09:17:35.282276</td>  <td class="testcell"></td>  <td class="Follower"></td>  <td class="Follower">listening at [::]:42043</td>  <td class="Follower"></td>
    </tr>
    
    <tr>
      <td>09:17:35.282499</td>  <td class="testcell"></td>  <td class="Follower"></td>  <td class="Follower"></td>  <td class="Follower">listening at [::]:43637</td>
    </tr>
    
    <tr>
      <td>09:17:35.284341</td>  <td class="testcell"></td>  <td class="Follower"></td>  <td class="Follower">election timer started (264ms), term=0</td>  <td class="Follower"></td>
    </tr>
    
    <tr>
      <td>09:17:35.284358</td>  <td class="testcell"></td>  <td class="Follower"></td>  <td class="Follower"></td>  <td class="Follower">election timer started (249ms), term=0</td>
    </tr>
    
    <tr>
      <td>09:17:35.284354</td>  <td class="testcell"></td>  <td class="Follower">election timer started (202ms), term=0</td>  <td class="Follower"></td>  <td class="Follower"></td>
    </tr>
    
    <tr>
      <td>09:17:35.286306</td>  <td class="testcell"></td>  <td class="Follower">in election timer state=Dead, bailing out</td>  <td class="Follower"></td>  <td class="Follower"></td>
    </tr>
    
    <tr>
      <td>09:17:35.385323</td>  <td class="testcell">Disconnect 0</td>  <td class="Follower"></td>  <td class="Follower"></td>  <td class="Follower"></td>
    </tr>
    
    <tr>
      <td>09:17:35.385772</td>  <td class="testcell">Disconnect 1</td>  <td class="Follower"></td>  <td class="Follower"></td>  <td class="Follower"></td>
    </tr>
    
    <tr>
      <td>09:17:35.385946</td>  <td class="testcell">Disconnect 2</td>  <td class="Follower"></td>  <td class="Follower"></td>  <td class="Follower"></td>
    </tr>
    
    <tr>
      <td>09:17:35.495188</td>  <td class="testcell"></td>  <td class="Candidate">becomes Candidate (currentTerm=1); log=[]</td>  <td class="Follower"></td>  <td class="Follower"></td>
    </tr>
    
    <tr>
      <td>09:17:35.495312</td>  <td class="testcell"></td>  <td class="Candidate">election timer started (270ms), term=1</td>  <td class="Follower"></td>  <td class="Follower"></td>
    </tr>
    
    <tr>
      <td>09:17:35.495354</td>  <td class="testcell"></td>  <td class="Candidate">sending RequestVote to 1: {Term:1 CandidateId:0 LastLogIndex:-1 LastLogTerm:-1}</td>  <td class="Follower"></td>  <td class="Follower"></td>
    </tr>
    
    <tr>
      <td>09:17:35.495424</td>  <td class="testcell"></td>  <td class="Candidate">sending RequestVote to 2: {Term:1 CandidateId:0 LastLogIndex:-1 LastLogTerm:-1}</td>  <td class="Follower"></td>  <td class="Follower"></td>
    </tr>
    
    <tr>
      <td>09:17:35.534703</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Follower"></td>  <td class="Candidate">becomes Candidate (currentTerm=1); log=[]</td>
    </tr>
    
    <tr>
      <td>09:17:35.534882</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Follower"></td>  <td class="Candidate">sending RequestVote to 0: {Term:1 CandidateId:2 LastLogIndex:-1 LastLogTerm:-1}</td>
    </tr>
    
    <tr>
      <td>09:17:35.534912</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Follower"></td>  <td class="Candidate">election timer started (207ms), term=1</td>
    </tr>
    
    <tr>
      <td>09:17:35.534939</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Follower"></td>  <td class="Candidate">sending RequestVote to 1: {Term:1 CandidateId:2 LastLogIndex:-1 LastLogTerm:-1}</td>
    </tr>
    
    <tr>
      <td>09:17:35.554650</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Candidate">becomes Candidate (currentTerm=1); log=[]</td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.554826</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Candidate">election timer started (289ms), term=1</td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.554919</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Candidate">sending RequestVote to 0: {Term:1 CandidateId:1 LastLogIndex:-1 LastLogTerm:-1}</td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.554974</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Candidate">sending RequestVote to 2: {Term:1 CandidateId:1 LastLogIndex:-1 LastLogTerm:-1}</td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.745838</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Candidate"></td>  <td class="Candidate">becomes Candidate (currentTerm=2); log=[]</td>
    </tr>
    
    <tr>
      <td>09:17:35.745964</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Candidate"></td>  <td class="Candidate">election timer started (180ms), term=2</td>
    </tr>
    
    <tr>
      <td>09:17:35.746001</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Candidate"></td>  <td class="Candidate">sending RequestVote to 1: {Term:2 CandidateId:2 LastLogIndex:-1 LastLogTerm:-1}</td>
    </tr>
    
    <tr>
      <td>09:17:35.746045</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Candidate"></td>  <td class="Candidate">sending RequestVote to 0: {Term:2 CandidateId:2 LastLogIndex:-1 LastLogTerm:-1}</td>
    </tr>
    
    <tr>
      <td>09:17:35.765752</td>  <td class="testcell"></td>  <td class="Candidate">becomes Candidate (currentTerm=2); log=[]</td>  <td class="Candidate"></td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.765898</td>  <td class="testcell"></td>  <td class="Candidate">election timer started (237ms), term=2</td>  <td class="Candidate"></td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.765938</td>  <td class="testcell"></td>  <td class="Candidate">sending RequestVote to 1: {Term:2 CandidateId:0 LastLogIndex:-1 LastLogTerm:-1}</td>  <td class="Candidate"></td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.766062</td>  <td class="testcell"></td>  <td class="Candidate">sending RequestVote to 2: {Term:2 CandidateId:0 LastLogIndex:-1 LastLogTerm:-1}</td>  <td class="Candidate"></td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.836883</td>  <td class="testcell">Reconnect 0</td>  <td class="Candidate"></td>  <td class="Candidate"></td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.838318</td>  <td class="testcell">Reconnect 1</td>  <td class="Candidate"></td>  <td class="Candidate"></td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.839120</td>  <td class="testcell">Reconnect 2</td>  <td class="Candidate"></td>  <td class="Candidate"></td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.845387</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Candidate">becomes Candidate (currentTerm=2); log=[]</td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.845550</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Candidate">sending RequestVote to 2: {Term:2 CandidateId:1 LastLogIndex:-1 LastLogTerm:-1}</td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.845623</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Candidate">sending RequestVote to 0: {Term:2 CandidateId:1 LastLogIndex:-1 LastLogTerm:-1}</td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.845628</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Candidate">election timer started (219ms), term=2</td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.848120</td>  <td class="testcell"></td>  <td class="Candidate">RequestVote: {Term:2 CandidateId:1 LastLogIndex:-1 LastLogTerm:-1} [currentTerm=2, votedFor=0, log index/term=(-1, -1)]</td>  <td class="Candidate"></td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.848206</td>  <td class="testcell"></td>  <td class="Candidate">... RequestVote reply: &{Term:2 VoteGranted:false}</td>  <td class="Candidate"></td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.848833</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Candidate">received RequestVoteReply {Term:2 VoteGranted:false}</td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.849596</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Candidate"></td>  <td class="Candidate">RequestVote: {Term:2 CandidateId:1 LastLogIndex:-1 LastLogTerm:-1} [currentTerm=2, votedFor=2, log index/term=(-1, -1)]</td>
    </tr>
    
    <tr>
      <td>09:17:35.849665</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Candidate"></td>  <td class="Candidate">... RequestVote reply: &{Term:2 VoteGranted:false}</td>
    </tr>
    
    <tr>
      <td>09:17:35.850242</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Candidate">received RequestVoteReply {Term:2 VoteGranted:false}</td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.926727</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Candidate"></td>  <td class="Candidate">becomes Candidate (currentTerm=3); log=[]</td>
    </tr>
    
    <tr>
      <td>09:17:35.926917</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Candidate"></td>  <td class="Candidate">election timer started (215ms), term=3</td>
    </tr>
    
    <tr>
      <td>09:17:35.927012</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Candidate"></td>  <td class="Candidate">sending RequestVote to 1: {Term:3 CandidateId:2 LastLogIndex:-1 LastLogTerm:-1}</td>
    </tr>
    
    <tr>
      <td>09:17:35.927012</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Candidate"></td>  <td class="Candidate">sending RequestVote to 0: {Term:3 CandidateId:2 LastLogIndex:-1 LastLogTerm:-1}</td>
    </tr>
    
    <tr>
      <td>09:17:35.931243</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Candidate">RequestVote: {Term:3 CandidateId:2 LastLogIndex:-1 LastLogTerm:-1} [currentTerm=2, votedFor=1, log index/term=(-1, -1)]</td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.931283</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Candidate">... term out of date in RequestVote</td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.931310</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Follower">becomes Follower with term=3; log=[]</td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.931445</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Follower">... RequestVote reply: &{Term:3 VoteGranted:true}</td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.931510</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Follower">election timer started (184ms), term=3</td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.932093</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Follower"></td>  <td class="Candidate">received RequestVoteReply {Term:3 VoteGranted:true}</td>
    </tr>
    
    <tr>
      <td>09:17:35.932127</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Follower"></td>  <td class="Candidate">wins election with 2 votes</td>
    </tr>
    
    <tr>
      <td>09:17:35.932183</td>  <td class="testcell"></td>  <td class="Candidate">RequestVote: {Term:3 CandidateId:2 LastLogIndex:-1 LastLogTerm:-1} [currentTerm=2, votedFor=0, log index/term=(-1, -1)]</td>  <td class="Follower"></td>  <td class="Candidate"></td>
    </tr>
    
    <tr>
      <td>09:17:35.932208</td>  <td class="testcell"></td>  <td class="Candidate"></td>  <td class="Follower"></td>  <td class="Leader">becomes Leader; term=3, nextIndex=map[0:0 1:0], matchIndex=map[0:-1 1:-1]; log=[]</td>
    </tr>
    
    <tr>
      <td>09:17:35.932227</td>  <td class="testcell"></td>  <td class="Candidate">... term out of date in RequestVote</td>  <td class="Follower"></td>  <td class="Leader"></td>
    </tr>
    
    <tr>
      <td>09:17:35.932302</td>  <td class="testcell"></td>  <td class="Follower">becomes Follower with term=3; log=[]</td>  <td class="Follower"></td>  <td class="Leader"></td>
    </tr>
    
    <tr>
      <td>09:17:35.932389</td>  <td class="testcell"></td>  <td class="Follower"></td>  <td class="Follower"></td>  <td class="Leader">sending AppendEntries to 0: ni=0, args={Term:3 LeaderId:2 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[] LeaderCommit:-1}</td>
    </tr>
    
    <tr>
      <td>09:17:35.932427</td>  <td class="testcell"></td>  <td class="Follower">... RequestVote reply: &{Term:3 VoteGranted:true}</td>  <td class="Follower"></td>  <td class="Leader"></td>
    </tr>
    
    <tr>
      <td>09:17:35.932439</td>  <td class="testcell"></td>  <td class="Follower"></td>  <td class="Follower"></td>  <td class="Leader">sending AppendEntries to 1: ni=0, args={Term:3 LeaderId:2 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[] LeaderCommit:-1}</td>
    </tr>
    
    <tr>
      <td>09:17:35.932581</td>  <td class="testcell"></td>  <td class="Follower">election timer started (219ms), term=3</td>  <td class="Follower"></td>  <td class="Leader"></td>
    </tr>
    
    <tr>
      <td>09:17:35.933443</td>  <td class="testcell"></td>  <td class="Follower"></td>  <td class="Follower"></td>  <td class="Leader">received RequestVoteReply {Term:3 VoteGranted:true}</td>
    </tr>
    
    <tr>
      <td>09:17:35.933494</td>  <td class="testcell"></td>  <td class="Follower"></td>  <td class="Follower"></td>  <td class="Leader">while waiting for reply, state = Leader</td>
    </tr>
    
    <tr>
      <td>09:17:35.935768</td>  <td class="testcell"></td>  <td class="Follower"></td>  <td class="Follower">AppendEntries: {Term:3 LeaderId:2 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[] LeaderCommit:-1}</td>  <td class="Leader"></td>
    </tr>
    
    <tr>
      <td>09:17:35.935805</td>  <td class="testcell"></td>  <td class="Follower"></td>  <td class="Follower">AppendEntries reply: {Term:3 Success:true}</td>  <td class="Leader"></td>
    </tr>
    
    <tr>
      <td>09:17:35.935996</td>  <td class="testcell"></td>  <td class="Follower"></td>  <td class="Follower">in election timer term changed from 2 to 3, bailing out</td>  <td class="Leader"></td>
    </tr>
    
    <tr>
      <td>09:17:35.936039</td>  <td class="testcell"></td>  <td class="Follower">in election timer term changed from 2 to 3, bailing out</td>  <td class="Follower"></td>  <td class="Leader"></td>
    </tr>
    
    <tr>
      <td>09:17:35.936286</td>  <td class="testcell"></td>  <td class="Follower"></td>  <td class="Follower"></td>  <td class="Leader">AppendEntries reply from 1 success: nextIndex := map[0:0 1:0], matchIndex := map[0:-1 1:-1]</td>
    </tr>
    
    <tr>
      <td>09:17:35.937177</td>  <td class="testcell"></td>  <td class="Follower"></td>  <td class="Follower"></td>  <td class="Leader">in election timer state=Leader, bailing out</td>
    </tr>
    
    <tr>
      <td>09:17:35.938382</td>  <td class="testcell"></td>  <td class="Follower">AppendEntries: {Term:3 LeaderId:2 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[] LeaderCommit:-1}</td>  <td class="Follower"></td>  <td class="Leader"></td>
    </tr>
    
    <tr>
      <td>09:17:35.938435</td>  <td class="testcell"></td>  <td class="Follower">AppendEntries reply: {Term:3 Success:true}</td>  <td class="Follower"></td>  <td class="Leader"></td>
    </tr>
    
    <tr>
      <td>09:17:35.938870</td>  <td class="testcell"></td>  <td class="Follower"></td>  <td class="Follower"></td>  <td class="Leader">AppendEntries reply from 0 success: nextIndex := map[0:0 1:0], matchIndex := map[0:-1 1:-1]</td>
    </tr>
    
    <tr>
      <td>09:17:35.982552</td>  <td class="testcell"></td>  <td class="Follower"></td>  <td class="Follower"></td>  <td class="Leader">sending AppendEntries to 1: ni=0, args={Term:3 LeaderId:2 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[] LeaderCommit:-1}</td>
    </tr>
    
    <tr>
      <td>09:17:35.982592</td>  <td class="testcell"></td>  <td class="Follower"></td>  <td class="Follower"></td>  <td class="Leader">sending AppendEntries to 0: ni=0, args={Term:3 LeaderId:2 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[] LeaderCommit:-1}</td>
    </tr>
    
    <tr>
      <td>09:17:35.984225</td>  <td class="testcell"></td>  <td class="Follower">AppendEntries: {Term:3 LeaderId:2 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[] LeaderCommit:-1}</td>  <td class="Follower"></td>  <td class="Leader"></td>
    </tr>
    
    <tr>
      <td>09:17:35.984284</td>  <td class="testcell"></td>  <td class="Follower">AppendEntries reply: {Term:3 Success:true}</td>  <td class="Follower"></td>  <td class="Leader"></td>
    </tr>
    
    <tr>
      <td>09:17:35.984632</td>  <td class="testcell"></td>  <td class="Follower"></td>  <td class="Follower"></td>  <td class="Leader">AppendEntries reply from 0 success: nextIndex := map[0:0 1:0], matchIndex := map[0:-1 1:-1]</td>
    </tr>
    
    <tr>
      <td>09:17:35.985585</td>  <td class="testcell"></td>  <td class="Follower"></td>  <td class="Follower">AppendEntries: {Term:3 LeaderId:2 PrevLogIndex:-1 PrevLogTerm:-1 Entries:[] LeaderCommit:-1}</td>  <td class="Leader"></td>
    </tr>
    
    <tr>
      <td>09:17:35.985632</td>  <td class="testcell"></td>  <td class="Follower"></td>  <td class="Follower">AppendEntries reply: {Term:3 Success:true}</td>  <td class="Leader"></td>
    </tr>
    
    <tr>
      <td>09:17:35.985896</td>  <td class="testcell"></td>  <td class="Follower"></td>  <td class="Follower"></td>  <td class="Leader">AppendEntries reply from 1 success: nextIndex := map[0:0 1:0], matchIndex := map[0:-1 1:-1]</td>
    </tr>
    
    <tr>
      <td>09:17:35.990843</td>  <td class="testcell"></td>  <td class="Dead">becomes Dead</td>  <td class="Follower"></td>  <td class="Leader"></td>
    </tr>
    
    <tr>
      <td>09:17:35.990927</td>  <td class="testcell"></td>  <td class="Dead">commitChanSender done</td>  <td class="Follower"></td>  <td class="Leader"></td>
    </tr>
    
    <tr>
      <td>09:17:35.990993</td>  <td class="testcell"></td>  <td class="Dead"></td>  <td class="Dead">becomes Dead</td>  <td class="Leader"></td>
    </tr>
    
    <tr>
      <td>09:17:35.991061</td>  <td class="testcell"></td>  <td class="Dead"></td>  <td class="Dead">commitChanSender done</td>  <td class="Leader"></td>
    </tr>
    
    <tr>
      <td>09:17:35.991117</td>  <td class="testcell"></td>  <td class="Dead"></td>  <td class="Dead"></td>  <td class="Dead">becomes Dead</td>
    </tr>
    
    <tr>
      <td>09:17:35.991172</td>  <td class="testcell"></td>  <td class="Dead"></td>  <td class="Dead"></td>  <td class="Dead">commitChanSender done</td>
    </tr>
    
  </table>
</body>
</html>
